var A=Object.create;var p=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var C=(t,n)=>{for(var r in n)p(t,r,{get:n[r],enumerable:!0})},L=(t,n,r,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of K(n))!M.call(t,s)&&s!==r&&p(t,s,{get:()=>n[s],enumerable:!(u=U(n,s))||u.enumerable});return t};var D=(t,n,r)=>(r=t!=null?A(R(t)):{},L(n||!t||!t.__esModule?p(r,"default",{value:t,enumerable:!0}):r,t)),E=t=>L(p({},"__esModule",{value:!0}),t);var G={};C(G,{makeClaimInstruction:()=>W,makeClaimInstructionV4:()=>q,makePurchaseInstruction:()=>O});module.exports=E(G);var i=require("@solana/web3.js"),d=require("@solana/spl-token");var o=require("@solana/web3.js"),S=require("@solana/spl-token");function b({pubkey:t,isSigner:n=!1,isWritable:r=!0}){return{pubkey:t,isWritable:r,isSigner:n}}var Y=[b({pubkey:S.TOKEN_PROGRAM_ID,isWritable:!1}),b({pubkey:o.SystemProgram.programId,isWritable:!1}),b({pubkey:o.SYSVAR_RENT_PUBKEY,isWritable:!1})];var X=new o.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),j=new o.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),T=new o.PublicKey("SysvarRent111111111111111111111111111111111"),l=new o.PublicKey("SysvarC1ock11111111111111111111111111111111"),H=new o.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),J=new o.PublicKey("Sysvar1nstructions1111111111111111111111111"),h=o.SystemProgram.programId,z=new o.PublicKey("a2Gt18uJC8puJT9JRYQLU6rPi6okxQb4WqCjwtYshZB"),F=new o.PublicKey("bXSKiFqYrALF9gJy1KqHm8tv4QXk8nCgbLN8WRsGEbh"),Q=new o.PublicKey("So11111111111111111111111111111111111111112"),Z=o.PublicKey.default,$=new o.PublicKey("71kRXzJMvSeArtXYNEWa8KAjpRJosdMQ7Dpgy5Jt5zfd"),ee=new o.PublicKey("ERFzpDteGNo8LTDKW1WwVGrkRMmA2y9WZHXNHxMA6BSV");var N=require("@solana/web3.js"),k=D(require("bn.js"));var e=require("@solana/buffer-layout");var _=e.Structure;var w=e.UInt;var B=e.nu64;function x(t){return new w(1,t)}var f=class extends _{decode(n,r){return super.decode(n,r)}};function m(t,n,r){return new f(t,n,r)}var g=m([x("instruction"),B("amount")]),c=m([x("instruction")]);function O({programId:t,amount:n,instructionKeys:r}){let u=[{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:d.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},...Object.entries(r).map(([a,y])=>({pubkey:y,isSigner:a==="userOwner",isWritable:!["authority","userOwner","userIdoCheck","userStakeInfo"].includes(a)}))],s=Buffer.alloc(g.span);return g.encode({instruction:1,amount:Number(n)},s),new i.TransactionInstruction({keys:u,programId:t,data:s})}function W({programId:t},n){let r=[{pubkey:d.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},...Object.entries(n).map(([s,a])=>({pubkey:a,isSigner:s==="userOwner",isWritable:!["authority","userOwner"].includes(s)}))],u=Buffer.alloc(c.span);return c.encode({instruction:2},u),new i.TransactionInstruction({keys:r,programId:t,data:u})}function q(t){let{poolConfig:n,userKeys:r,side:u}=t,s=u==="base"?r.baseTokenAccount:r.quoteTokenAccount,a=u==="base"?n.baseVault:n.quoteVault,y=Buffer.alloc(c.span);c.encode({instruction:2},y);let I=[{pubkey:d.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:i.SYSVAR_CLOCK_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:n.id,isWritable:!0,isSigner:!1},{pubkey:n.authority,isWritable:!1,isSigner:!1},{pubkey:a,isWritable:!0,isSigner:!1},{pubkey:s,isWritable:!0,isSigner:!1},{pubkey:r.ledgerAccount,isWritable:!0,isSigner:!1},{pubkey:r.owner,isWritable:!1,isSigner:!0}];return new i.TransactionInstruction({programId:n.programId,keys:I,data:y})}0&&(module.exports={makeClaimInstruction,makeClaimInstructionV4,makePurchaseInstruction});
//# sourceMappingURL=instruction.js.map